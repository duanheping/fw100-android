Fusion Wireless Android Distribution
Revised 1228A 
support:  info@fusionwireless.com

--------
OVERVIEW
--------
This is the distribution of Fusion Wireless Android RIL Driver SDK
including RIL driver and related support files

Supported target platform:  TI Beagleboard CX
Upstream distro: Android SDK:  Gingerbread 2.3
target distro: TI_Android_GingerBread_2_3_4_DevKit_2_1/Prebuilt_Images

Includes modified uImage with ppp support

Fusion Wireless usbserial driver installs as loadable kernel module
/opt/fusion/FWUSBModem.ko 


-----------------------
FIRST TIME INSTALLATION
-----------------------
(Procedure tested on Fedora Core 12 2.6.32)

Install the pre-built TI beagleboard distribution
Caution: this procedure wipes SD card so save any files first!
Note: must be root or sudo 

1. Using SD card reader, insert 4G SD or micro-SD/adapter
   use dmesg to check attach point for USB SD card (example: /dev/sde)
2. cd .../TI_Android_GingerBread_2_3_4_DevKit_2_1/Prebuilt_Images/beagleboard-rev-c4
3. ./android-mkmmc  /dev/sde

When these pre-built install steps are complete, then update SD card with
Fusion Wireless components

insert SD card.  Mount points are:
/media/boot
/media/data
/media/rootfs

Next unpack the Fusion Wireless Android SDK distribution:
tar xvzf fw-android-1014A.tgz 
cd fw-android-1014A

Install fusion wireless files:
./fw100_install.sh

Confirm the prompt to install fusion wireless files.

Unmount SD card partitions to make sure write-through is complete.
Insert SD card in on target beagleboard SD/MMC slot
Attach console cable adapter to RS232 P9 header
Attach DVI cable adapter to monitor
Attach USB Hub EHCI with full-speed/high-speed support
Attach USB mouse to hub
Attach USB keyboard to hub
Attach FW2770 development kit USB cable to hub

Power up beagleboard.  
Console trace included in section below
Modem enumerates data port on /ttyUSB0, ttyUSB2
RIL Driver Opens AT control port ttyUSB2
Android Screen should display registered network name
Wireless signal strength bars RSSI display within 30 seconds

--------------
REVISION 1228A
--------------
This distribution includes RIL driver maintenance 
updates and GPS related features.

fw100-ril.c RIL driver opens ptty port early during 
initialization to allow android GPS framework to open the port.
Previously ptty was opened at first GPS fix.

fw100-ril.h defines build options to select live GPS fix rate
at 1 or 10 second intervals (enable one of GPS_RATE_1PPS or GPS_RATE_10PPS). 
This affects live GPS fixes only; GPS_TEST_NMEA enabled outputs at 10PPS.

fw100-ril.h change GPS_PROPERTY_NAME for ptty port from 
ro.kernel.android.gps to ril.gps.port
Previously property_set returned error on read-only property.

fw100-ril-gps.c added chmod permission on created ptty port
to 0666 to allow world read/write.  Since the port is created
by RILD, previously default permissions were dis-allowing
read access by gps framework.

--------------
REVISION 1215A
--------------
This distribution includes RIL driver maintenance 
updates and GPS related features.

MEID. fw100-ril-utils.c MEID is now converted to uppercase for 
system reporting.

GPS. fw100-ril-gps.c new file implementing GPS related functions.
The FW2770 modem outputs standalone GPS on AT port. The RIL driver
captures GPS NMEA strings, then writes them to system files
for use in Android Location Provider framework.

The RIL driver can output two types of GPS streams depending
on application.  The output build options are configured in 
fw100-ril.h

GPS_USE_TTY enables output to pseudo-tty.
RIL driver opens the ptmx master 
and enumerates the device name with system
property_set(...).  The property has a well-known
name GPS_PROPERTY_NAME is defined at build time and 
can be discovered by tty slave.  The device node is dynamically
assigned by pseudo-tty driver, starting with /dev/pts/0.
Using the pseudo-ttyp, the slave Android GPS driver can read NMEA 
strings and process the output on the android GPS standard framework.
Test from command line: cat /dev/pts/0 depending on assigned ptty number
Confirm with logcat -b radio for a confirming trace line like this
example showing device opened as /dev/pts/0
D/RIL ( 1070): rilWriteGPSTty:131 open ptmx rc=0 open fd=19 name=/dev/pts/0

GPS_USE_FIFO enables output to fifo.
RIL_GPS_FIFOPATH defines the named fifo.
RIL driver creates the fifo  mode 666.
The fifo is opened with O_NONBLOCK option, then
GPS NMEA strings are output to the fifo at the same rate
as generated by the modem, 1Hz nominal when in service.
Test from command line: cat /opt/fusion/gpsfifo

GPS_USE_TTY and GPS_USE_FIFO can both be enabled in the build.
It is recommended to use GPS_USE_TTY only.

GPS_TEST_NMEA build option can be enabled to output test NMEA
strings to FIFO and TTY for indoors testing.  Test strings are
output to GPS output streams on RIL timer rate nominal 10 seconds.

--------------
REVISION 1206A
--------------
This maintenance distribution includes minor updates to RIL driver 
and DataConnectionTracker.

GsmDataConnectionTracker.java 
Tests on SPCS sometimes failed to match APN type.
buildWaitingApns() added failsafe APN add even if requestApnType
does not match, so the RIL/modem combination is always available 
for data call setup.

Some tests on SPCS noted occasional report "Unknown Operator".
RIL driver fw100-ril-rqst.c getNetworkInfo() added log trace for
unknown operator return from QCMIPGETP.  

RIL driver implemented RIL_REQUEST_LAST_DATA_CALL_FAIL_CAUSE.
updates to fw100-ril.c and fw100-ril-data.c

--------------
REVISION 1205B
--------------
This maintenance distribution includes minor updates to RIL driver 
and DataConnectionTracker.

RIL driver re-enabled timer polling for signal strength.
Was previously displaying grey RSSI bars on Android status bar.

GsmDataConnectionTracker.java added connectivityCheck()
This function checks and logs the status of 3G and Wifi connections
on data setup complete or data state change.  It's purpose is
to confirm and trace connection status in system log.

--------------
REVISION 1205A
--------------
This distribution adds 3G interface to system connectivity.
Previous distributions RIL driver automatically started and 
maintained pppd data call.  In this update, GsmDataConnectionTracker
controls the data connectivity to the RIL driver using RIL_REQUEST_SETUP_DATA_CALL

frameworks/base/telephony/java/com/android/internal/telephony/gsm 
  GsmDataConnectionTracker.java
is modified in this distribution with features and adaptation for 
the FW2700 module in GSM emulation mode.  

Copy from this distro file java/ginger/GsmDataConnectionTracker to
your android gingerbread SDK, then build the SDK.  
Copy the generated Phone.apk to rootfs/system/app.  
In the Android SDK build output:
out/target/product/generic/system/app/Phone.apk

Updates to system/framework may
be generated by Android SDK build, these can be copied into the
target system rootfs/system/framework
In the Android SDK build output:
out/target/product/generic/system/framework

RIL driver files have been updated with various related changes.
- getVersion returns "Fusion Wireless RIL 1.0"
- RIL driver based timer processing for CSQ, NetworkRegistration,
  and automatic PPP is disabled.  
- 3G interface is now reported at UMTS and will display 3G icon on
  Android status bar.
- RIL onRequest() dispatch skips search for unsupported RIL requests, which 
  if un-implemented are now reported as RADIO_NOT_AVAILBLE 
  (was REQUEST_NOT_SUPPORTED).  

/etc/ppp/ip-up-ppp
During data call setup, RIL driver requestSetupDataCallEVDO() starts
the pppd detached process, then when the ppp0 interface is UP, returns 
the ppp0 IP, DNS1, DNS2, and default gateway in onRequestComplete response.
Android pre-3.0 platforms ignore these response values, and instead 
the two DNS IP addresses are retrieved from system properties net.ppp0.dns1
and net.ppp0.dns2. To support pre-3.0 platforms, /etc/ppp/ip-up-ppp was
updated to setprop these DNS properties, along with net.ppp0.gw.
Install this version of ip-up-ppp in target rootfs/system/etc/ppp/.

--------------
REVISION 1117A 
--------------
fw100-ril.c mainLoop() modified to delay assert mainIsStarted until
USB serial device are enumerated and opened.  Fixes problem returning
early and receive RIL requests including SCREEN_STATE from phone stack 
before port open.

fw100-ril.c all diagnostic traces are now output to radio log.
Was sending some traces to system log.

fw100-ril-utils.c activateHelper() modified to fix how it checks for 
a not-active MDN.  Previously there was a chance to re-activate
some area codes.

Known Issues:
Connectivity Manager senses the 3G interface, but the connection 
isAvailable is False.  Some applications including browser and
email are OK, but others need Connectivity Manager 3G isAvailable
to connect with the cloud.  This issue is under investigation.

--------------
REVISION 1020A
--------------
Modified fw100-ril-rqst.c getNetworkInfo() to use at$qcmipgetp to 
dynamically identify carrier including SPCS and VZW.

modified script /etc/ppp/ip-up-ppp to disable 
/system/bin/setprop "net.$NAME.local-ip" "$IPLOCAL"
/system/bin/setprop "net.$NAME.remote-ip" "$IPREMOTE"
this fixes console messages when ppp data call is established:
init: sys_prop: permission denied uid:1001  name:net..local-ip
init: sys_prop: permission denied uid:1001  name:net..remote-ip

fw100-ril-utils.c added new file and functions:
- activateHelper() implements activation detect and auto-activation on VZW
  using OTASP *22899

- rilReadControl() to load session preferences dynamically.  
   Default file name is defined in fw100-ril.h
   RIL_CONTROL_FILEPATH /opt/fusion/fwril-control.txt

- rilWriteStatus() saves session context, activation and data call state
   to default file name defined in fw100-ril.h
   RIL_STATUS_FILEPATH /opt/fusion/fwril-status.txt

fw100_install.sh 
- changed permissions on /opt and /opt/fusion to 777 


--------------
REVISION 1014A
--------------
Changed fw100-ril-rqst.c default MCCMNC 310000 network name 
to "Verizon Wireless".  Modify this if needed for your application.
getNetworkInfo() planned update to use at$qcmipgetp to dynamically
identify carrier including SPCS and VZW.

Added data related services in fw100-ril-data.c including
pppAutomatic(), that continuously monitors data connection
driven on timer fwModemTimer().  After RIL driver initializes, 
ril driver activates PPP data call, then monitors it. If call is 
ever dropped, it is re-activated for continuous data connectivity.

When the PPP data call activated, RIL driver sends 
RIL_UNSOL_DATA_CALL_LIST_CHANGED notification to Phone Stack to
enable taskbar data service icon.

Updated requestRegistrationState() to use function
requestRegistrationStateEVDO().  Uses SYSINFO, CSNID
VROM for system status and roaming indicators.

Supressed SIM processing in RIL driver fw100-ril.c

Fixed Phantom Call notification in requestGetCurrentCallsEVDO()

pppd scripts under /etc/ppp
modified options in /etc/ppp/peers/ttyUSB0 including linkname ppp
this script adds defaultroute to add default gateway when 
PPP link is UP.

added script /etc/ppp/ip-up-ppp that includes setprop net.dns1 to 
set the system DNS resolver when PPP is UP.

fw100-ril.c added provisioning and activation AT queries including 
VMDN in function atcommand_init().

fw100_install.sh 
- removed install radiooptions.
- disabled install uImage to avoid clobbering users kernel image
- disabled install init.rc to avoid clobbering users init.rc
  review fusion wireless sample init scripts in fusion/init*.rc
  including command line launch and permission groups for ril-daemon


--------------
REVISION 0916A
--------------
Fusion wireless library renamed libril-fusion-100.so
modified fw100-ril/Android.mk
modified fusion/init.rc

Removed riltest from distro
removed debug radiooptions from distro

Note:  Fusion driver now has a separate distribution
and is built as a Loadable Kernel Module LKM


How to Build the Fusion Wireless Android RIL Driver:

1. copy the android ril driver from the Fusion Android 
   SDK distribution fw100-ril directory, to the android SDK build directory
   for example cp fw100-ril ...pathto/gingerbread/hardware/ril/.
2. cd ...some_path/gingerbread
3. source build/envsetup.sh
4. make 

============================================
PLATFORM_VERSION_CODENAME=REL
PLATFORM_VERSION=2.3.5
TARGET_PRODUCT=generic
TARGET_BUILD_VARIANT=eng
TARGET_SIMULATOR=
TARGET_BUILD_TYPE=release
TARGET_BUILD_APPS=
TARGET_ARCH=arm
HOST_ARCH=x86
HOST_OS=linux
HOST_BUILD_TYPE=release
BUILD_ID=GINGERBREAD
============================================
target thumb C: libril-fusion-100 <= hardware/ril/fw100-ril/fw100-ril.c
target thumb C: libril-fusion-100 <= hardware/ril/fw100-ril/fw100-ril-rqst.c
target thumb C: libril-fusion-100 <= hardware/ril/fw100-ril/fw100-ril-data.c
target thumb C: libril-fusion-100 <= hardware/ril/fw100-ril/fw100-ril-timer.c
target thumb C: libril-fusion-100 <= hardware/ril/fw100-ril/atchannel.c
target thumb C: libril-fusion-100 <= hardware/ril/fw100-ril/misc.c
target thumb C: libril-fusion-100 <= hardware/ril/fw100-ril/at_tok.c
target thumb C: libril-fusion-100 <= hardware/ril/fw100-ril/rilinfo.c
target SharedLib: libril-fusion-100 (out/target/product/generic/obj/SHARED_LIBRARIES/libril-fusion-100_intermediates/LINKED/libril-fusion-100.so)
target Non-prelinked: libril-fusion-100 (out/target/product/generic/symbols/system/lib/libril-fusion-100.so)
target Strip: libril-fusion-100 (out/target/product/generic/obj/lib/libril-fusion-100.so)
Install: out/target/product/generic/system/lib/libril-fusion-100.so


--------------
REVISION 0912A
--------------
This distro includes network registration and data call support.

An updated radiooptions is included that has additional commands
11 - setup data call
12 - deactivate data call
13 - poll signal strength

A standalone /opt/fusion/riltest can be used for standalone testing
of the FW2770 modem. To use riltest, update init.rc, disable launch
of service rild-driver.  This prevents rild driver from otherwise
claiming modem ports ttyUSB*

cd /opt/fusion
./riltest
Use help command and riltest Quick Start Guide for details.


----------------------------
Known Issues and Limitations
----------------------------

Phone App throws ACORE exception on beagleboard.

Browser throws ACORE exception on beagleboard.

Workaround for issue 0906A - VMCCMNC
fixed RIL_REQUEST_OPERATOR  
getNetworkInfo()
FW2770 returns +VMCCMNC:0,310,00
assigns default MCCMNC 310000

SMS is under construction


-----
FILES
-----

fw-android-1014A
|-- bins
|   |-- busybox
|   `-- chat
|-- etcs
|   `-- ppp
|       |-- ip-up-ppp
|       |-- ip-up-vpn
|       |-- peers
|       |   |-- ttyUSB0
|       |   `-- ttyUSB0_chat
|-- fusion
|   |-- fwsetup-eth0.sh
|   |-- fwsetup.sh
|   |-- FWUSBModem.ko
|   |-- init-beagle-1010.rc
|   |-- init-beagle-adb-eth0.rc
|   |-- init-beagle-adb-usb.rc
|   |-- init-tablet-adb-eth0.rc
|-- fw100_capture.sh
|-- fw100_install.sh
|-- fwril-100
|   |-- Android.mk
|   |-- atchannel.c
|   |-- atchannel.h
|   |-- at_tok.c
|   |-- at_tok.h
|   |-- fw100-ril.c
|   |-- fw100-ril-data.c
|   |-- fw100-ril.h
|   |-- fw100-ril-rqst.c
|   |-- fw100-ril-timer.c
|   |-- fw100-ril-utils.c
|   |-- misc.c
|   |-- misc.h
|   |-- rilinfo.c
|   `-- rilinfo.h
|-- images
|   |-- config-bb-c4-ppp-usbserial-0904
|   `-- uImage
|-- libs
|   `-- libril-fusion-100.so
|-- README.pdf
`-- README.txt


-------------------------
BEAGLEBOARD CONSOLE TRACE
-------------------------

Texas Instruments X-Loader 1.51 (Jul 11 2011 - 21:11:32)
Beagle Rev C1/C2/C3
Starting X-loader on MMC 
Reading boot sector

213256 Bytes Read from MMC 
Starting OS Bootloader from MMC...
Starting OS Bootloader...


U-Boot 2010.06 (Jul 08 2011 - 04:37:45)

OMAP3430/3530-GP ES3.0, CPU-OPP2 L3-165MHz
OMAP3 Beagle board + LPDDR/NAND
I2C:   ready
DRAM:  256 MiB
NAND:  HW ECC [Kernel/FS layout] selected
256 MiB
*** Warning - bad CRC or NAND, using default environment

In:    serial
Out:   serial
Err:   serial
Beagle Rev C1/C2/C3
Die ID #73a000030000000004013f8a1701b00c
Hit any key to stop autoboot:  0 
mmc1 is available
reading boot.scr

459 bytes read
Running bootscript from mmc ...
## Executing script at 82000000
reading uImage

2830652 bytes read
***** Kernel: /dev/mmcblk0p1/uImage *****
***** RootFS: /dev/mmcblk0p2 *****
## Booting kernel from Legacy Image at 82000000 ...
   Image Name:   Linux-2.6.37-g06ebbba
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    2830588 Bytes = 2.7 MiB
   Load Address: 80008000
   Entry Point:  80008000
   Verifying Checksum ... OK
   Loading Kernel Image ... OK
OK

Starting kernel ...

Uncompressing Linux... done, booting the kernel.
Linux version 2.6.37-g06ebbba (steve@localhost.localdomain) (gcc version 4.4.3 (GCC) ) #6 1
CPU: ARMv7 Processor [411fc083] revision 3 (ARMv7), cr=10c53c7f
CPU: VIPT nonaliasing data cache, VIPT nonaliasing instruction cache
Machine: OMAP3 Beagle Board
Reserving 8388608 bytes SDRAM for VRAM
Memory policy: ECC disabled, Data cache writeback
OMAP3430/3530 ES3.0 (l2cache iva sgx neon isp )
SRAM: Mapped pa 0x40200000 to va 0xfe400000 size: 0x10000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 62976
Kernel command line: console=ttyO2,115200n8 androidboot.console=ttyO2 mem=256M root=/dev/mM
PID hash table entries: 1024 (order: 0, 4096 bytes)
Dentry cache hash table entries: 32768 (order: 5, 131072 bytes)
Inode-cache hash table entries: 16384 (order: 4, 65536 bytes)
Memory: 248MB = 248MB total
Memory: 245076k/245076k available, 17068k reserved, 0K highmem
Virtual kernel memory layout:
    vector  : 0xffff0000 - 0xffff1000   (   4 kB)
    fixmap  : 0xfff00000 - 0xfffe0000   ( 896 kB)
    DMA     : 0xffc00000 - 0xffe00000   (   2 MB)
    vmalloc : 0xd0800000 - 0xf8000000   ( 632 MB)
    lowmem  : 0xc0000000 - 0xd0000000   ( 256 MB)
    modules : 0xbf000000 - 0xc0000000   (  16 MB)
      .init : 0xc0008000 - 0xc003c000   ( 208 kB)
      .text : 0xc003c000 - 0xc0563000   (5276 kB)
      .data : 0xc0564000 - 0xc05ac4c0   ( 290 kB)
NR_IRQS:409
Clocking rate (Crystal/Core/MPU): 26.0/331/500 MHz
Reprogramming SDRC clock to 331882352 Hz
IRQ: Found an INTC at 0xfa200000 (revision 4.0) with 96 interrupts
Total of 96 interrupts on 1 active controller
GPMC revision 5.0
Trying to install interrupt handler for IRQ402
Trying to install interrupt handler for IRQ403
Trying to install interrupt handler for IRQ404
Trying to install interrupt handler for IRQ405
Trying to install interrupt handler for IRQ406
Trying to install interrupt handler for IRQ407
Trying to install interrupt handler for IRQ408
Trying to install type control for IRQ409
Trying to set irq flags for IRQ409
OMAP clockevent source: GPTIMER1 at 32768 Hz
Console: colour dummy device 80x30
Calibrating delay loop... 499.92 BogoMIPS (lpj=1949696)
pid_max: default: 32768 minimum: 301
Security Framework initialized
Mount-cache hash table entries: 512
CPU: Testing write buffer coherency: ok
regulator: core version 0.5
regulator: dummy: 
NET: Registered protocol family 16
OMAP GPIO hardware version 2.5
OMAP GPIO hardware version 2.5
OMAP GPIO hardware version 2.5
OMAP GPIO hardware version 2.5
OMAP GPIO hardware version 2.5
OMAP GPIO hardware version 2.5
omap_mux_init: Add partition: #1: core, flags: 0
OMAP3 Beagle Rev: C1/C2/C3
Found NAND on CS0
Registering NAND on CS0
Unable to get DVI reset GPIO
hw-breakpoint: debug architecture 0x4 unsupported.
OMAP DMA hardware revision 4.0
bio: create slab <bio-0> at 0
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
omap_i2c omap_i2c.1: bus 1 rev3.12 at 2600 kHz
twl4030: PIH (irq 7) chaining IRQs 368..375
twl4030: power (irq 373) chaining IRQs 376..383
twl4030: gpio (irq 368) chaining IRQs 384..401
regulator: VUSB1V5: 1500 mV normal standby
regulator: VUSB1V8: 1800 mV normal standby
regulator: VUSB3V1: 3100 mV normal standby
twl4030_usb twl4030_usb: Initialized TWL4030 USB module
regulator: VMMC1: 1850 <--> 3150 mV at 3000 mV normal standby
regulator: VDAC: 1800 mV normal standby
regulator: VDVI: 1800 mV normal standby
regulator: VSIM: 1800 <--> 3000 mV at 1800 mV normal standby
regulator: VAUX3: 1800 mV normal standby
regulator: VAUX4: 1800 mV normal standby
omap_device: omap_i2c.1: new worst case deactivate latency 0: 30517
omap_device: omap_i2c.2: new worst case activate latency 0: 30517
omap_i2c omap_i2c.2: bus 2 rev3.12 at 400 kHz
omap_i2c omap_i2c.3: bus 3 rev3.12 at 100 kHz
Advanced Linux Sound Architecture Driver Version 1.0.23.
Switching to clocksource 32k_counter
musb-hdrc: version 6.0, otg (peripheral+host), debug=0
musb-hdrc musb-hdrc.0: dma type: dma-inventra
musb-hdrc musb-hdrc.0: USB OTG mode controller at fa0ab000 using DMA, IRQ 92
NET: Registered protocol family 2
IP route cache hash table entries: 2048 (order: 1, 8192 bytes)
TCP established hash table entries: 8192 (order: 4, 65536 bytes)
TCP bind hash table entries: 8192 (order: 3, 32768 bytes)
TCP: Hash tables configured (established 8192 bind 8192)
TCP reno registered
UDP hash table entries: 256 (order: 0, 4096 bytes)
UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
NET: Registered protocol family 1
NetWinder Floating Point Emulator V0.97 (double precision)
omap-iommu omap-iommu.0: isp registered
OMAP35x  Linux PSP version 04.02.00.07 (OMAP3BEAGLE)
ashmem: initialized
VFS: Disk quotas dquot_6.5.2
Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
JFFS2 version 2.2. (NAND) (SUMMARY)  �© 2001-2006 Red Hat, Inc.
msgmni has been set to 478
io scheduler noop registered
io scheduler deadline registered
io scheduler cfq registered (default)
OMAP DSS rev 2.0
OMAP DISPC rev 3.0
OMAP VENC rev 2
OMAP DSI rev 1.0
Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled
omap_uart.0: ttyO0 at MMIO 0x4806a000 (irq = 72) is a OMAP UART0
omap_uart.1: ttyO1 at MMIO 0x4806c000 (irq = 73) is a OMAP UART1
omap_uart.2: ttyO2 at MMIO 0x49020000 (irq = 74) is a OMAP UART2
console [ttyO2] enabled
brd: module loaded
loop: module loaded
mtdoops: mtd device (mtddev=name/number) must be supplied
omap2-nand driver initializing
NAND device: Manufacturer ID: 0x2c, Chip ID: 0xba (Micron )
Creating 5 MTD partitions on "omap2-nand.0":
0x000000000000-0x000000080000 : "X-Loader"
0x000000080000-0x000000260000 : "U-Boot"
0x000000260000-0x000000280000 : "U-Boot Env"
0x000000280000-0x000000680000 : "Kernel"
0x000000680000-0x000010000000 : "File System"
OneNAND driver initializing
PPP generic driver version 2.4.2
usbcore: registered new interface driver asix
usbcore: registered new interface driver cdc_ether
usbcore: registered new interface driver smsc95xx
usbcore: registered new interface driver net1080
usbcore: registered new interface driver cdc_subset
usbcore: registered new interface driver zaurus
ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
ehci-omap.0 supply hsusb0 not found, using dummy regulator
ehci-omap.0 supply hsusb1 not found, using dummy regulator
ehci-omap ehci-omap.0: OMAP-EHCI Host Controller
ehci-omap ehci-omap.0: new USB bus registered, assigned bus number 1
ehci-omap ehci-omap.0: irq 77, io mem 0x48064800
ehci-omap ehci-omap.0: USB 2.0 started, EHCI 1.00
usb usb1: New USB device found, idVendor=1d6b, idProduct=0002
usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
usb usb1: Product: OMAP-EHCI Host Controller
usb usb1: Manufacturer: Linux 2.6.37-g06ebbba ehci_hcd
usb usb1: SerialNumber: ehci-omap.0
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 3 ports detected
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
usbcore: registered new interface driver usbserial
USB Serial support registered for generic
usbcore: registered new interface driver usbserial_generic
usbserial: USB Serial Driver core
USB Serial support registered for Belkin / Peracom / GoHubs USB Serial Adapter
usbcore: registered new interface driver belkin
belkin_sa: v1.3:USB Belkin Serial converter driver
USB Serial support registered for FTDI USB Serial Device
usbcore: registered new interface driver ftdi_sio
ftdi_sio: v1.6.0:USB FTDI Serial Converters Driver
USB Serial support registered for Keyspan - (without firmware)
USB Serial support registered for Keyspan 1 port adapter
USB Serial support registered for Keyspan 2 port adapter
USB Serial support registered for Keyspan 4 port adapter
usbcore: registered new interface driver keyspan
keyspan: v1.1.5:Keyspan USB to Serial Converter Driver
USB Serial support registered for MCT U232
usbcore: registered new interface driver mct_u232
mct_u232: z2.1:Magic Control Technology USB-RS232 converter driver
android init
android_probe pdata: c0573f2c
android_bind
android_usb gadget: android_usb ready
musb-hdrc musb-hdrc.0: MUSB HDRC host driver
musb-hdrc musb-hdrc.0: new USB bus registered, assigned bus number 2
usb usb2: New USB device found, idVendor=1d6b, idProduct=0002
usb usb2: New USB device strings: Mfr=3, Product=2, SerialNumber=1
usb usb2: Product: MUSB HDRC host driver
usb usb2: Manufacturer: Linux 2.6.37-g06ebbba musb-hcd
usb usb2: SerialNumber: musb-hdrc.0
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
f_adb init
android_register_function adb
adb_bind_config
f_mass_storage init
android_register_function usb_mass_storage
mice: PS/2 mouse device common for all mice
input: gpio-keys as /devices/platform/gpio-keys/input/input0
input: twl4030_pwrbutton as /devices/platform/omap/omap_i2c.1/i2c-1/1-0049/twl4030_pwrbutt1
using rtc device, twl_rtc, for alarms
twl_rtc twl_rtc: rtc core: registered twl_rtc as rtc0
twl_rtc twl_rtc: Power up reset detected.
twl_rtc twl_rtc: Enabling TWL-RTC.
i2c /dev entries driver
Linux media interface: v0.10
Linux video capture interface: v2.00
omap3isp supply VDD_CSIPHY1 not found, using dummy regulator
omap3isp supply VDD_CSIPHY2 not found, using dummy regulator
omap3isp omap3isp: Revision 2.0 found
omap-iommu omap-iommu.0: isp: version 1.1
usb 1-2: new high speed USB device using ehci-omap and address 2
usb 1-2: New USB device found, idVendor=05e3, idProduct=0608
usb 1-2: New USB device strings: Mfr=0, Product=1, SerialNumber=0
usb 1-2: Product: USB2.0 Hub
hub 1-2:1.0: USB hub found
hub 1-2:1.0: 4 ports detected
android_usb gadget: high speed config #1: android
usb 1-2.1: new full speed USB device using ehci-omap and address 3
usb 1-2.1: New USB device found, idVendor=15eb, idProduct=0001
usb 1-2.1: New USB device strings: Mfr=1, Product=2, SerialNumber=0
usb 1-2.1: Product: CDS7
usb 1-2.1: Manufacturer: VIA Telecom
usb 1-2.3: new low speed USB device using ehci-omap and address 4
usb 1-2.3: New USB device found, idVendor=1bcf, idProduct=0005
usb 1-2.3: New USB device strings: Mfr=0, Product=2, SerialNumber=0
usb 1-2.3: Product: USB Optical Mouse
usb 1-2.4: new low speed USB device using ehci-omap and address 5
omap_i2c omap_i2c.2: controller timed out
mt9v113 2-003c: chip id mismatch read 0x0, expecting 0x2280
isp_register_subdev_group: Unable to register subdev mt9v113
omap_device: omap_wdt.-1: new worst case activate latency 0: 30517
OMAP Watchdog Timer Rev 0x31: initial timeout 60 sec
twl4030_wdt twl4030_wdt: Failed to register misc device
twl4030_wdt: probe of twl4030_wdt failed with error -16
device-mapper: uevent: version 1.0.3
device-mapper: ioctl: 4.18.0-ioctl (2010-06-29) initialised: dm-devel@redhat.com
input: USB Optical Mouse as /devices/platform/ehci-omap.0/usb1/1-2/1-2.3/1-2.3:1.0/input/i2
generic-usb 0003:1BCF:0005.0001: input: USB HID v1.10 Mouse [USB Optical Mouse] on usb-ehc0
usbcore: registered new interface driver usbhid
usbhid: USB HID core driver
logger: created 64K log 'log_main'
logger: created 256K log 'log_events'
usb 1-2.4: New USB device found, idVendor=04d9, idProduct=1203
usb 1-2.4: New USB device strings: Mfr=0, Product=0, SerialNumber=0
logger: created 64K log 'log_radio'
logger: created 64K log 'log_system'
usbcore: registered new interface driver snd-usb-audio
OMAP3 Beagle/Devkit8000 SoC init
input: HID 04d9:1203 as /devices/platform/ehci-omap.0/usb1/1-2/1-2.4/1-2.4:1.0/input/input3
generic-usb 0003:04D9:1203.0002: input: USB HID v1.11 Keyboard [HID 04d9:1203] on usb-ehci0
input: HID 04d9:1203 as /devices/platform/ehci-omap.0/usb1/1-2/1-2.4/1-2.4:1.1/input/input4
generic-usb 0003:04D9:1203.0003: input: USB HID v1.11 Device [HID 04d9:1203] on usb-ehci-o1
asoc: twl4030-hifi <-> omap-mcbsp-dai.1 mapping ok
ALSA device list:
  #0: omap3beagle
oprofile: hardware counters not available
oprofile: using timer interrupt.
TCP cubic registered
Initializing XFRM netlink socket
NET: Registered protocol family 17
NET: Registered protocol family 15
Registering the dns_resolver key type
VFP support v0.3: implementor 41 architecture 3 part 30 variant c rev 1
ThumbEE CPU extension supported.
Power Management for TI OMAP3.
smartreflex smartreflex.0: omap_sr_probe: SmartReflex driver initialized
smartreflex smartreflex.1: omap_sr_probe: SmartReflex driver initialized
SmartReflex Class3 initialized
clock: disabling unused clocks to save power
platform iva.0: omap_voltage_scale: Already at the requestedrate 360000000
platform mpu.0: omap_voltage_scale: Already at the requestedrate 500000000
mmc0: new high speed SD card at address b368
mmcblk0: mmc0:b368 SD02G 1.87 GiB 
 mmcblk0: p1 p2 p3
omap_device: omap_i2c.1: new worst case deactivate latency 0: 61035
regulator_init_complete: incomplete constraints, leaving VDAC on
twl_rtc twl_rtc: setting system clock to 2000-01-01 00:00:00 UTC (946684800)
omap_vout omap_vout: Buffer Size = 3686400
omap_vout omap_vout: : registered and initialized video device 15
omap_vout omap_vout: Buffer Size = 3686400
omap_vout omap_vout: : registered and initialized video device 16
Waiting 1sec before mounting root device...
EXT3-fs: barriers not enabled
kjournald starting.  Commit interval 5 seconds
EXT3-fs (mmcblk0p2): warning: maximal mount count reached, running e2fsck is recommended
EXT3-fs (mmcblk0p2): using internal journal
EXT3-fs (mmcblk0p2): mounted filesystem with ordered data mode
VFS: Mounted root (ext3 filesystem) on device 179:2.
Freeing init memory: 208K
init (1): /proc/1/oom_adj is deprecated, please use /proc/1/oom_score_adj instead.
init: cannot find '/system/etc/install-recovery.sh', disabling 'flash_recovery'
enabling adb
adb_open
# USB Serial support registered for CDMA EVDO modem (1-port)
fusionwireless 1-2.1:1.0: CDMA EVDO modem (1-port) converter detected
adb_release
adb_open
usb 1-2.1: CDMA EVDO modem (1-port) converter now attached to ttyUSB0
fusionwireless 1-2.1:1.1: CDMA EVDO modem (1-port) converter detected
usb 1-2.1: CDMA EVDO modem (1-port) converter now attached to ttyUSB1
fusionwireless 1-2.1:1.2: CDMA EVDO modem (1-port) converter detected
usb 1-2.1: CDMA EVDO modem (1-port) converter now attached to ttyUSB2
usbcore: registered new interface driver fusionwireless
FWUSBModem: v1.1.0:USB Driver for Fusion Wireless modems
warning: `rild' uses 32-bit capabilities (legacy support in use)
android_usb gadget: high speed config #1: android


